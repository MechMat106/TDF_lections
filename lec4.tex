\begin{lemma} [О несамодвойственной функции] Пусть $f(\XXX)\not\in S$, тогда $0,\,1 \in [\{f, \bar{x}\}]$
\end{lemma}
\begin{proof} 
    Пусть $f(\XXX)\not\in S$, тогда  $f^*(\XXX) = \overline{f(\bar{x}_1,\ldots,\bar{x}_n)} \neq f(\XXX) \Rightarrow \exists \sigma = (\sigma_1,\ldots,\sigma_n),$ т.ч. $\overline{f(\bar{\sigma}_1,\ldots,\bar{\sigma}_n)} \neq f(\sigma_1,\ldots,\sigma_n) \Rightarrow f(\bar{\sigma}_1,\ldots,\bar{\sigma}_n) = f(\sigma_1,\ldots,\sigma_n) = C.$\\
    Будем считать, что $(\SIG) = (\underbrace{0,\ldots,0}_k,\underbrace{1,\ldots,1}_{n-k})$.\\
    Пусть $g(x) = f(\underbrace{x,\ldots,x}_k,\underbrace{ \bar{x},\ldots,\bar{x}}_{n-k}).$\\
    $g(0) = f(\underbrace{0,\ldots,0}_k,\underbrace{ 1,\ldots,1}_{n-k}) = f(\SIG),\\
    g(1)= f(\underbrace{1,\ldots,1}_k,\underbrace{ 0,\ldots,0}_{n-k}) = f(\bar{\sigma}_1,\ldots,\bar{\sigma}_n)$,\\ значит, 
    $g(0) = g(1) = C, $ причём $g$ задаётся формулой над $\{f,\,\bar{x}\} \Rightarrow g \in S$.\\
    Получаем $C \in  [\{f, \bar{x}\}] \Rightarrow \bar{C} \in [\{f, \bar{x}\}] \Rightarrow 0,\,1 \in [\{f, \bar{x}\}].$
\end{proof}

\subsection{Линейные функции.}
\begin{definition}
Булева функция называется линейной, если степень её полинома Жегалкина не превосходит $1$.
\end{definition}
Здесь под степенью полинома Жегалкина понимается максимальная длина слагаемого в нём или, говоря алгебраическим языком, его степень как многочлена над $\mathbb{Z}_2$. Например, степень полинома $xyz \oplus x \oplus 1$ равна $3$. 
\begin{definition}
$L$ --- класс всех линейных булевых функций.
\end{definition}
\begin{proposition}
1) $0,\, 1,\, x,\, \bar{x},\, x\oplus y,\, x \sim y \in L$, 2) $x \to y,\, x \vee y,\, x\& y \not\in L.$
\end{proposition}
\begin{proof}
Первая часть утверждения очевидна, кроме утверждения про функцию $x \sim y$. Чтобы доказать оставшееся, представим следующие функции в виде полиномов:\\
$x \sim y = x \oplus y \oplus 1 ~ (\deg = 1),\\
x \to y = \bar{x} \vee xy = xy \oplus x \oplus 1 ~ (\deg = 2),\\
x \vee y = xy \oplus x \oplus y ~ (\deg = 2)$.
%дописать про последнюю функцию x\& y !!!
\end{proof}
\begin{lemma}
$L$ является замкнутым классом.
\end{lemma}
\begin{proof}
$x \in L$. Достаточно доказать, что $f(x_1, \ldots, x_k),\, g_1(\XXX),\, \ldots,\,\\ g_k(\XXX) \in L \Rightarrow h(\XXX) = f(g_1(\XXX),\ldots,g_k(\XXX)) \in L $.\\
Проверим это напрямую:\\
$f\in L \Rightarrow f(x_1,\ldots,x_k) = c_1x_1 \oplus \ldots \oplus c_kx_k \oplus c; ~ c_i,c 
\in\{0,1\}.$\\
$g_1, \ldots, g_k \in L \Rightarrow g_i(\XXX) = d_{i1}x_1 \oplus \ldots \oplus d_{in}x_n \oplus d_i; ~ d_{ij},d_i \in \{0,1\}. $\\
$h(\XXX) = c_1\big(d_{11}x_1 \oplus \ldots \oplus d_{1n}x_n \oplus d_1 \big) \oplus \ldots \oplus c_k\big(d_{k1}x_1 \oplus \ldots \oplus d_{kn}x_n \oplus d_k \big) \oplus c = \\ = (c_1d_{11} \oplus c_kd_{k1})x_1 \oplus \ldots \oplus (c_1d_{1n} \oplus \ldots \oplus c_kd_{kn})x_n \oplus (c_1d_1 \oplus \ldots c_kd_k \oplus c).$ Видно, что это линейная функция.
\end{proof}
\begin{lemma}[О нелинейной функции] Пусть $f(\XXX)\not\in L$. Тогда $x\& y \in [\{f, \bar{x}, 0, 1\}].$
\end{lemma}
\begin{proof} Пусть $f\not\in L$, тогда степень её полинома Жегалкина равна $k \geq 2$. Выберем нелинейное слагаемое наименьшей степени $l\geq 2$ в этом полиноме. Без ограничения общности можно считать, что это слагаемое $x_1...x_l$. Запишем $f$ в виде $f(x_1,\ldots,x_n) = f_{\deg > l} \oplus x_1...x_l \oplus f_{\deg \leq 1}$, где $f_{\deg > l}$ --- сумма всех слагаемых степени больше $l$, а $f_{\deg \leq 1}$ --- сумма всех слагаемых степени не больше $1$.

Рассмотрим функцию $g(x,y) = f(x, \overbrace{y,...,y}^{l-1}, 0,...,0)$. Ясно, что при подстановке аргументов $(x, y,...,y, 0,...,0)$ в полином Жегалкина для $f$ занулятся все слагаемые, входящие в $f_{\deg > l}$. 
Далее, $g(x,y) = x\underbrace{y...y}_{l-1} \oplus \ldots = xy \oplus c_1x \oplus c_2y \oplus c$. 

Теперь рассмотрим функцию $g'(x,y) = g(x\oplus c_2, y\oplus c_1) = xy \oplus c_1c_2 \oplus c = xy \oplus d$. Значит, $xy = g'(x,y) \oplus d = g(x\oplus c_2, y\oplus c_1) \oplus d = f(x \oplus c_2, \underbrace{y\oplus c_1,\ldots,y\oplus c_1}_{l-1},0,\ldots,0)\oplus d$. 

Так как %$x\oplus d = \left\{ \begin{gathered} x,\,d=0\hfill \\ \bar{x},\,d=1,\hfill \\ \end{gathered} \right.$ то 
$x\oplus d = x$ при $d=0$ и $x\oplus d = \bar{x}$ при $d=1$, то $xy \in [\{f, \bar{x}, 0, 1\}].$
\end{proof}

\subsection{Критерий Поста.}
\begin{theorem}[Критерий полноты] Пусть $\mathcal{F} \subseteq P_2$, тогда \\ $\mathcal{F}$ является полной в $P_2$ $\Longleftrightarrow$ $\mathcal{F}$ не содержится ни в одном из классов $ T_0,\, T_1,\,M,\,L,\,S.$
\end{theorem}
\begin{proof}
~\\
1. $(\Rightarrow)$. Пусть $X$ --- один из классов $ T_0,\, T_1,\,M,\,L,\,S$. Они замкнуты, то есть $[X] = X$.
Предположим, $\mathcal{F} \subseteq X $, тогда $[\mathcal{F}] \subseteq [X] = X \neq P_2 $. Противоречие. Значит, $\mathcal{F}$ не содержится ни в одном из классов $ T_0,\, T_1,\,M,\,L,\,S.$
~\\
2. $(\Leftarrow)$. Пусть $\mathcal{F}$ не содержится ни в одном из классов $ T_0,\, T_1,\,M,\,L,\,S$. Тогда существуют функции $f_X \in \mathcal{F} \setminus X$, где $X \in \{T_0,\, T_1,\,M,\,L,\,S\}$. Получим из этих функций константы, отрицание и дизъюнкцию. \\
$f_{T_0} \not\in T_0 \Rightarrow f_{T_0} (0,\ldots,0) = 1 $, аналогично $f_{T_1} \not\in T_1 \Rightarrow f_{T_1} (1,\ldots,1) = 0 $. Положим $\varphi (x) = f_{T_0}(x,\ldots,x)$. Ясно, что $\varphi (0) = 1$. Если $\varphi(1) = 1$, то это константа $1$,  а функция $\psi (x) = f_{T_1}(\varphi (x),\ldots,\varphi(x))$ --- константа $0$. Если же $\varphi(1) = 1$, то $\varphi (x) = \bar{x}$, и по лемме о несамодвойственной функции при помощи отрицания можно получить обе константы. По лемме о немонотонной функции, из $f_M$, имея константы, можно получить отрицание. По лемме о нелинейной функции при помощи констант и отрицания можно получить конъюнкцию. Таким образом, мы выделили в F полную подсистему, а значит, $[\mathcal{F}] = P_2$. 
\end{proof}
\begin{corollary}
Из любого полного множества функций можно выделить полное подмножество из $\leq 5$ функций.
\end{corollary}
\begin{proof}
Достаточно взять функции $f_{T_0},\,f_{T_1},\,f_M,\,f_S,\,f_L$, которые содержатся (по теореме 1) в этом полном множестве.
\end{proof}
\begin{corollary} 
Из любого полного множества функций $\mathcal{F}$ можно выделить полное подмножество из $\leq 4$ функций.
\end{corollary}
\begin{proof}
1) Пусть $f_{T_0}(1,\ldots,1) = 0$, тогда $f_{T_0} \not \in M$ и $\{f_{T_0},\, f_{T_1},\, f_S,\,f_L \}$ --- полное подмножество в $\mathcal{F}$.\\
2) Пусть $f_{T_0}(1,\ldots,1) = 1$, тогда $f_{T_0} \not \in S$ и $\{f_{T_0},\, f_{T_1},\, f_M,\,f_L \}$ --- полное подмножество в $\mathcal{F}$.
\end{proof}
~\\
\textit{Замечание.} Для 3 функций утверждение уже будет неверным. В качестве полной системы из 4 функций можно рассмотреть  $\{xy,\, x\oplus y\oplus z, \, 0,\, 1 \}$. Наглядно изобразить принадлежность этих функций разным замкнутым классам можно следующей таблицей:
$$
\begin{array}{|c|c|c|c|c|c|}
\hline
    &      T_0       &       T_1      &      M      &      S      &      L \\
\hline
xy  &      \in       &       \in      &      \in    &   \not\in   &    \not\in \\
\hline 
x\oplus y\oplus z & \in &    \in      &     \not\in &   \in       &    \in \\
\hline
0   &      \in       &     \not\in    &      \in    &   \not\in   &    \in \\
\hline
1   &      \not\in   &     \in        &      \in    &   \not\in   &    \in \\
\hline
\end{array}
$$
При этом, если удалить любую из этих четырёх функций, то получившаяся система уже будет неполной ввиду принадлежности одному из классов $ T_0,\, T_1,\,M,\,L,\,S.$